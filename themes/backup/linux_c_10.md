+++
author = "FanHe"
title = "LinuxC编程随笔（C语言中的数组-10）"
date = 2021-05-03T09:23:20+08:00
description = ""
categories = [
    "LinuxC编程"
]
+++

## 1. 一句话总结
---
介绍数组，包括一维数组、二维数组、字符数组

## 2. 课程内容
---

## 3. 动手写代码
---

### 3.1 删除法求1000以内的质数

思路1：
（1）申请一个1000大小为1000的数组，然后依次删除每一个数2开始的倍数（如3*N，4*N）（到1000），剩下的数就是质数
（2）怎么记录删除呢？可以把数组中的数设置成一个不可达的数（比如-1）
     也可以用数组的下标记录数组的数值，初始化的时候是0，一旦不为0说明数被删除了，但是这样做需要数组的下标和数是匹配的（也就是说2存储在下标是[2]的位置，3
     存储在下标是[3]的位置。

教程中就是采用的第二种删除方式，这里实现一下

```
#include <stdio.h>
#include <stdlib.h>

int main()
{
	int num[1001] = {0};

	for(int i = 2; i < 1000; i++)
	{
		for(int j = 2*i; j < 1000; j += i)
			num[j] = -1;
	}

	for(int i = 2; i < 1000; i++)
		if (!num[i])
			printf("%d ", i);

	printf("\n");

	exit(0);
}
```

其他习题较简单，略

## 4. 课堂笔记
---
数组

一维数组
1. 定义
    【存储类型】 数据类型 标识符 【下标】(下标C99之前要求是编译器的常量)
2. 初始化
    （1）（默认不会初始化，里面是乱值）
    （2） 可以使用列表初始化 int arr[3] = {1,2,3};
     (3)  可以使用部分列表初始化 int arr[3] = {1}; 得到的是 1，0，0
     (4)  static数组默认会把所有元素初始化为0值
3. 元素引用
    下表从0开始到最大值减一

4. 数组名
    数组名就是数组类型，而不是指针（见参考资料1）

5. 数组越界
    数组获取值的过程实际上是计算指针解引用 arr[i] = *(&arr[0]+i)

二维数组

1. 定义，初始化
    【存储类型】 数组类型  标识符【行下标】【列下标】

2. 元素引用
    数组名【行标】【列标】

3. 存储形式
    行主序的方式线性存储

4. 深入理解二维数组
    二维数组是元素是数组的一个数组，a[2][3]表示的是一个数组a[2]，有两个元素，每一个元素都是一个大小为[3]的数组，于是a+1，移动的大小是3个元素的大小

字符数组

1. 定义，初始化，存储特点

    【存储类型】数据类型 标识符【下标】 ...

    初始化方式：
    （1）单个字符初始化    char str[] = {'a', 'b', 'c'};
    （2）字符串常量初始化  char str[] = "abc"

2. 输入输出

3. 常用函数
    位于头文件<string.h>中：

    strlen(以尾0为结束计算数据大小)
    strcpy
    strcat
    strcmp

多维数组

    分拆成多级来分析



## 5. 参考资料
---

[1. Is an array name a pointer?](https://stackoverflow.com/questions/1641957/is-an-array-name-a-pointer)